# Lab-7---Exceptions-and-Simple-Threads
Question 1 In this exercise you will write a circular queue data structure (see Wikipedia: Circular buffer).  Create a class CyclicQueue that implements NumberQueue (package uk.ac.soton.ecs.comp1206.labtestlibrary.interfaces.threading). Create a constructor that takes an integer parameter capacity. The capacity is the size of the queue, i.e., the maximal number of elements. Use the parameter to initialise an integer array of the size of the provided capacity.  You will also need two pointers: a head and a tail pointer. The head pointer points to where the front of the queue in the array currently is and the tail pointer points to where the back of the queue currently is.  Now, implements the methods specified in the interface:  void enqueue(int): Insert a number to the back of the queue. If there is still space in the queue, move the tail pointer and place the number into the associated array index. If there is no space, throw an Exception. int dequeue(): Remove and return the first number in the queue. Retrieve the number at the head pointer and update the head pointer to indicate that this elements is not in the queue any more. boolean isEmpty(): Returns true if the queue is empty. Determine from the pointers if there are still numbers in the queue. Throw IndexOutOfBoundsException where appropriate As you can see, you need to interact with the pointers for all three methods. The position and relation of the pointer will tell you if there are numbers in the queue and if you can remove or add numbers. Make sure you wrap around at the end of the array (HINT: use the modulo operator %).  Use the test class QueueTest.java to test your code (but note this is not assessed yet).  Write a main method and test if your queue works as intended.  Question 2 In this exercise you will create a counter for a zoo to see how many guests have visited.  Create a class Counter which implements the interface UnitCounter (package uk.ac.soton.ecs.comp1206.labtestlibrary.interfaces.threading). The class should have an int class variable for the counter. Implement the interface's methods: addOne has to add one to the counter variable and getCounter has to return the current value.  Create a second class called Gate which implements Runnable. The class needs a constructor that has two parameters. The first one is a Counter and the second one is an int representing the number of guests visiting via the gate. Implement the run method to call the addOne method as many times as the specified number of guests.  Finally, create a class Zoo with a main method. In the main method you should create one Counter and several Gates. Run all of the gates as threads and wait for them to finish (HINT: consider the join() method). After the threads have finished, print the number of expected guests and the state of the counter. If you have enough gates and high numbers of guests the two numbers should differ.  Question 3 In this exercise you will use your queue to create a "number factory".  Create the classes Producer and Consumer who both extend the class FactoryWorker (package uk.ac.soton.ecs.comp1206.labtestlibrary.interfaces.threading). For both of them, create a constructor with an int and a NumberQueue parameter. Use these parameters and the string "Consumer" or "Producer" to instantiate the class using the constructor of FactoryWorker. Following this, implement the two abstract methods and the run method:  void message(int): print a message with the job type, the id and the number to the console, e.g. "Consumer 5 picked 12345 from the belt." int action(): For the producer generate a random number and add it to the queue. For the consumer take a number from the queue. void run(): For both classes, the method should run as an infinite loop unless the thread gets interrupted (HINT: Thread.currentThread().isInterrupted()). Moreover, the thread should try to perform an action (call the respective action method) and if that fails should call messageError().
